<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./estilo.css">
</head>
<style>
    button#botaoCarregar{margin-left: 650px;margin-bottom: 20px; margin-top: 200px;padding: 4px;}
</style>
<body>
    <div><button id="botaoCarregar">Carregando Usuários...</button></div>

      <div id="PerfisDiv">CLICK NO BOTÃO PARA CARREGAR USUÁRIOS</div>  
    
</body>

<script>
    let usuarios = []
    //cs é um array de cervejas
    const carregarDiv = cs => {

        const div = document.getElementById("PerfisDiv")

        const itensHtml = cs.map( ({first_name,last_name,email,avatar}) => `<div> <img src="${avatar}">  ${first_name} ${last_name} -- ${email} </div>` ) 

        div.innerHTML = `${itensHtml.join("\n")}`
    }



    async function carregarCervejas(){

        try{
            let res = await fetch("https://random-data-api.com/api/v2/users?size=2&is_xml=true")

            usuarios = await res.json()

            carregarDiv(usuarios)
        }catch(err){
            document.getElementById("PerfisDiv").innerHTML = "Fudeu..."
        }

    }
    
    let botao = document.getElementById("botaoCarregar")
    botao.addEventListener("click", () => carregarCervejas() )                 



 </script>

</html>